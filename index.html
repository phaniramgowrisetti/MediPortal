<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mediportal - Health Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-image: linear-gradient(to top right, lab(95.64% -12.04 -6.77), #b3e0ff, #c4f1fe);
            background-attachment: fixed;
        }

        .main-container {
            backdrop-filter: blur(30px);
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card {
            background-color: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 1.5rem;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
        }

        .icon-circle {
            background-color: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .icon-circle:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .sidebar {
            transition: transform 0.3s ease-in-out;
        }

        .nav-link.active {
            background-color: #e0f2fe;
            color: #0c4a6e;
            font-weight: 600;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .tab-btn.active {
            background-color: white;
            color: #0284c7;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .diet-btn.active {
            background-color: #ef4444;
            color: white;
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.5);
        }

        .chat-bubble-user {
            background-color: #0ea5e9;
            color: white;
        }

        .chat-bubble-bot {
            background-color: #e2e8f0;
            color: #1e293b;
        }

        .test-result-normal {
            color: #10b981;
        }

        .test-result-abnormal {
            color: #ef4444;
        }

        .test-result-border-normal {
            border-left: 4px solid #10b981;
        }

        .test-result-border-abnormal {
            border-left: 4px solid #ef4444;
        }
    </style>
</head>

<body class="text-gray-800">

    <div id="app-container" class="relative min-h-screen w-full p-2 sm:p-4">
        <aside id="sidebar"
            class="sidebar fixed top-0 left-0 z-40 w-72 h-full bg-white shadow-2xl transform -translate-x-full">
            <div class="p-6">
                <div class="flex items-center space-x-4 mb-8">
                    <img src="https://placehold.co/50x50/e0f2fe/3b82f6?text=A" class="rounded-full" alt="User Avatar">
                    <div>
                        <p class="font-bold text-lg text-gray-800">SUMANTH</p>
                        <p class="text-sm text-gray-500">AGE: 18</p>
                    </div>
                </div>
                <nav class="space-y-2">
                    <a href="#" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-sky-50">
                        <svg class="w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                        <span>Personal details</span>
                    </a>
                    <a href="#" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-sky-50">
                        <svg class="w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
                            </path>
                        </svg>
                        <span>Security & Passwords</span>
                    </a>
                    <a href="#" class="nav-link flex items-center space-x-3 p-3 rounded-lg hover:bg-sky-50">
                        <svg class="w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
                            </path>
                        </svg>
                        <span>Digi Locker Sync</span>
                    </a>
                </nav>
            </div>
            <div class="absolute bottom-0 w-full p-6 border-t">
                <a href="#" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-red-50 text-red-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1">
                        </path>
                    </svg>
                    <span>Logout</span>
                </a>
            </div>
        </aside>

        <div class="transition-all duration-300 ease-in-out">
            <div class="main-container rounded-2xl min-h-[calc(100vh-2rem)] sm:min-h-[calc(100vh-2rem)] p-4 sm:p-6">
                <header class="flex justify-between items-center mb-6">
                    <button id="menu-btn" class="p-2 rounded-md hover:bg-white/50">
                        <svg class="w-6 h-6 text-sky-800" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                    <div class="flex items-center gap-2">
                        <div class="bg-white p-2 rounded-lg shadow-md">
                            <svg class="w-6 h-6 text-sky-600" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2L4.5 5V11C4.5 16.5 7.5 21.5 12 23C16.5 21.5 19.5 16.5 19.5 11V5L12 2Z"
                                    stroke="#0ea5e9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                <path d="M10 13L12 15L14 13" stroke="#38bdf8" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path d="M12 9V15" stroke="#38bdf8" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                        </div>
                        <h1 class="text-xl sm:text-2xl font-bold text-sky-800">MEDIPORTAL</h1>
                    </div>
                    <button class="p-2 rounded-md hover:bg-white/50">
                        <svg class="w-6 h-6 text-sky-800" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 6V4m0 16v-2m8-8h2M4 12H2m15.364 6.364l1.414 1.414M4.222 4.222l1.414 1.414m12.728 0l-1.414 1.414M5.636 18.364l-1.414 1.414">
                            </path>
                        </svg>
                    </button>
                </header>

                <div id="dashboard-page" class="page active">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl font-bold text-gray-700">WELCOME BACK!</h2>
                        <p class="text-4xl font-extrabold text-sky-600 flex items-center justify-center gap-2">ARJUN
                            <span class="text-3xl">ðŸ˜Š</span>
                        </p>
                    </div>

                    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6 text-center">
                        <a href="#" class="nav-item" data-page="reports-page">
                            <div
                                class="icon-circle w-28 h-28 sm:w-32 sm:h-32 mx-auto rounded-full flex items-center justify-center">
                                <svg class="w-16 h-16 text-sky-500" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round"></path>
                                    <path d="M12 12h4" stroke="#87CEEB" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round"></path>
                                    <path d="M9 8h1" stroke="#87CEEB" stroke-width="1.5" stroke-linecap="round"></path>
                                </svg>
                            </div>
                            <p class="mt-3 font-semibold text-gray-700">Medical Reports</p>
                        </a>
                        <a href="#" class="nav-item" data-page="vitals-page">
                            <div
                                class="icon-circle w-28 h-28 sm:w-32 sm:h-32 mx-auto rounded-full flex items-center justify-center">
                                <svg class="w-16 h-16 text-green-500" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M3 12h2l2-8l4 16l4-8l2 4h3" stroke="currentColor" stroke-width="1.5"
                                        stroke-linecap="round" stroke-linejoin="round"></path>
                                </svg>
                            </div>
                            <p class="mt-3 font-semibold text-gray-700">Blood Pressure</p>
                        </a>
                        <a href="#" class="nav-item" data-page="medicines-page">
                            <div
                                class="icon-circle w-28 h-28 sm:w-32 sm:h-32 mx-auto rounded-full flex items-center justify-center">
                                <svg class="w-16 h-16" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <g transform="rotate(45 12 12)">
                                        <path
                                            d="M12 2C9.24 2 7 4.24 7 7V17C7 19.76 9.24 22 12 22C14.76 22 17 19.76 17 17V7C17 4.24 14.76 2 12 2Z"
                                            fill="#4ade80" />
                                        <path d="M12 2C9.24 2 7 4.24 7 7V12H17V7C17 4.24 14.76 2 12 2Z"
                                            fill="#f87171" />
                                    </g>
                                </svg>
                            </div>
                            <p class="mt-3 font-semibold text-gray-700">Medicines</p>
                        </a>
                        <a href="#" class="nav-item" data-page="medibot-page">
                            <div
                                class="icon-circle w-28 h-28 sm:w-32 sm:h-32 mx-auto rounded-full flex items-center justify-center">
                                <svg class="w-16 h-16 text-sky-500" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                        d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M12 6a6 6 0 100 12 6 6 0 000-12z">
                                    </path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                        d="M7.5 12h2l1.5-3 2 6 1.5-3h2"></path>
                                </svg>
                            </div>
                            <p class="mt-3 font-semibold text-gray-700">Medibot</p>
                        </a>
                        <a href="#" class="nav-item" data-page="suggestions-page">
                            <div
                                class="icon-circle w-28 h-28 sm:w-32 sm:h-32 mx-auto rounded-full flex items-center justify-center">
                                <svg class="w-16 h-16 text-indigo-500" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9" stroke="currentColor"
                                        stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                    <path d="M12 15a3 3 0 100-6 3 3 0 000 6z" stroke="currentColor" stroke-width="1.5"
                                        stroke-linecap="round" stroke-linejoin="round"></path>
                                    <path d="M19 6c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2h-1" stroke="currentColor"
                                        stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                </svg>
                            </div>
                            <p class="mt-3 font-semibold text-gray-700">Doctor Suggestions</p>
                        </a>
                        <a href="#" class="nav-item" data-page="diet-page">
                            <div
                                class="icon-circle w-28 h-28 sm:w-32 sm:h-32 mx-auto rounded-full flex items-center justify-center">
                                <svg class="w-16 h-16 text-orange-500" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"
                                        fill="#fbbf24" />
                                    <path
                                        d="M12 5c-3.86 0-7 3.14-7 7s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm0 12c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"
                                        fill="#4ade80" />
                                    <path d="M15 12h-3V9h-2v3H7v2h3v3h2v-3h3v-2z" fill="#f87171" />
                                </svg>
                            </div>
                            <p class="mt-3 font-semibold text-gray-700">Diet Plan</p>
                        </a>
                        <div class="col-span-2 sm:col-span-1">
                            <a href="#" class="nav-item">
                                <div
                                    class="icon-circle w-28 h-28 sm:w-32 sm:h-32 mx-auto rounded-full flex items-center justify-center">
                                    <svg class="w-16 h-16 text-gray-500" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M12 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"
                                            fill="currentColor"></path>
                                    </svg>
                                </div>
                                <p class="mt-3 font-semibold text-gray-700">More</p>
                            </a>
                        </div>
                    </div>
                </div>

                <div id="reports-page" class="page">
                    <button class="nav-item back-btn flex items-center gap-2 text-sky-700 font-semibold mb-4">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                            </path>
                        </svg>
                        Back
                    </button>
                    <div class="bg-sky-100/50 p-2 rounded-xl inline-flex mb-6 gap-2">
                        <button class="tab-btn active py-2 px-6 rounded-lg" data-tab="report-content">Medical
                            Reports</button>
                        <button class="tab-btn py-2 px-6 rounded-lg text-gray-600"
                            data-tab="prescription-content">Prescription</button>
                        <button class="tab-btn py-2 px-6 rounded-lg text-gray-600"
                            data-tab="blood-test-content">Blood Tests</button>
                    </div>

                    <div id="report-content" class="tab-content">
                        <div class="card p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">Report type : Blood Test Report</h3>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <div class="mb-4">
                                        <p class="font-bold">Patient Details :</p>
                                        <p>Name : Allu Arjun</p>
                                        <p>Age : 39Yrs</p>
                                        <p>Gender : Male</p>
                                    </div>
                                    <div>
                                        <p class="font-bold">Doctor Details :</p>
                                        <p>Name : Dr.Gajaala (pathology)</p>
                                        <p>Hospital : KIMS hospital</p>
                                    </div>
                                    <div class="card mt-6 p-4 border border-sky-200">
                                        <p class="font-semibold mb-4">ðŸ”— Blood_test_report.pdf</p>
                                        <div class="flex gap-4">
                                            <button
                                                class="view-btn w-full bg-sky-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-sky-600 transition"
                                                data-src="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                                                data-title="Blood Test Report">View</button>
                                            <button
                                                class="download-btn w-full bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition"
                                                data-src="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                                                data-filename="Blood_test_report.pdf">Download</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="card p-4 bg-sky-100/70">
                                    <div class="flex justify-between items-center mb-4">
                                        <h4 class="font-bold text-lg text-sky-800">Test Analysis</h4>
                                        <p class="text-sm font-medium text-gray-600">ðŸ“… Oct-5-2024</p>
                                    </div>
                                    <ul class="space-y-2 text-gray-700">
                                        <li><span class="text-green-600">âœ“</span> Hemoglobin: 13.6 g/dL (Normal)</li>
                                        <li><span class="text-green-600">âœ“</span> RBC Count: 4.8 million/ÂµL (Normal)
                                        </li>
                                        <li><span class="text-red-500">âš </span> WBC Count: 11,200 /ÂµL (Slightly High)
                                        </li>
                                        <li><span class="text-green-600">âœ“</span> Platelets: 2.3 lakh/ÂµL (Normal)</li>
                                    </ul>
                                    <div class="mt-6 pt-4 border-t border-sky-200">
                                        <p><span class="text-pink-500 font-semibold">â—‰ Interpretation:</span> Mild
                                            infection detected.</p>
                                        <p><span class="font-semibold">Recommendation:</span> Follow up with physician
                                            if symptoms persist.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="prescription-content" class="tab-content hidden">
                        <div class="card p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">MediPortal - Digital Prescription</h3>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <div class="mb-4">
                                        <p class="font-bold">Patient Details :</p>
                                        <p>Name : Allu Arjun</p>
                                        <p>Age / Gender: 32 / Male</p>
                                        <p>Patient ID: MP-102345</p>
                                    </div>
                                    <div>
                                        <p class="font-bold">Doctor Details :</p>
                                        <p>Name : Dr.Gajaala (pathology)</p>
                                        <p>Hospital : KIMS hospital</p>
                                    </div>
                                    <div class="card mt-6 p-4 border border-sky-200">
                                        <p class="font-semibold mb-4">ðŸ”— Prescription.pdf</p>
                                        <div class="flex gap-4">
                                            <button
                                                class="view-btn w-full bg-sky-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-sky-600 transition"
                                                data-src="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                                                data-title="Digital Prescription">View</button>
                                            <button
                                                class="download-btn w-full bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition"
                                                data-src="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                                                data-filename="Prescription.pdf">Download</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex flex-col gap-4">
                                    <div class="card p-4 bg-sky-100/70 h-full">
                                        <h4 class="font-bold text-lg text-sky-800 mb-2">Prescription</h4>
                                        <div class="space-y-3">
                                            <div>
                                                <p class="font-semibold">Amoxicillin 500 mg</p>
                                                <p class="text-sm text-gray-600">1 capsule every 8 hrs for 7 days</p>
                                            </div>
                                            <div>
                                                <p class="font-semibold">Paracetamol 500 mg</p>
                                                <p class="text-sm text-gray-600">Oral, as needed for fever</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card p-4 bg-amber-100/70">
                                        <h4 class="font-bold text-lg text-amber-800 mb-2">Notes / Advice:</h4>
                                        <p class="text-sm text-amber-900">Drink plenty of water. Take medicines after
                                            meals. Report any allergic reactions immediately. Follow up after 7 days.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Blood Test Section -->
                    <div id="blood-test-content" class="tab-content hidden">
                        <div class="card p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">Blood Test Analysis</h3>
                            <div class="flex flex-col md:flex-row gap-6">
                                <div class="md:w-2/3">
                                    <div class="card p-4 mb-6 bg-sky-50">
                                        <h4 class="font-bold text-lg text-sky-800 mb-2">Test Overview</h4>
                                        <div class="grid grid-cols-2 gap-4">
                                            <div>
                                                <p class="text-sm text-gray-600">Test Date</p>
                                                <p class="font-semibold">Oct 5, 2024</p>
                                            </div>
                                            <div>
                                                <p class="text-sm text-gray-600">Lab Reference</p>
                                                <p class="font-semibold">KIMS Diagnostic Center</p>
                                            </div>
                                            <div>
                                                <p class="text-sm text-gray-600">Report ID</p>
                                                <p class="font-semibold">BT-2024-10-005</p>
                                            </div>
                                            <div>
                                                <p class="text-sm text-gray-600">Status</p>
                                                <p class="font-semibold text-green-600">Completed</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card p-4 mb-6">
                                        <h4 class="font-bold text-lg text-sky-800 mb-4">Complete Blood Count (CBC)</h4>
                                        <div class="space-y-4">
                                            <div class="test-result-border-normal p-3 bg-white rounded-lg">
                                                <div class="flex justify-between items-center">
                                                    <p class="font-semibold">Hemoglobin</p>
                                                    <p class="test-result-normal">13.6 g/dL</p>
                                                </div>
                                                <p class="text-sm text-gray-600">Normal Range: 13.5 - 17.5 g/dL</p>
                                            </div>
                                            <div class="test-result-border-normal p-3 bg-white rounded-lg">
                                                <div class="flex justify-between items-center">
                                                    <p class="font-semibold">RBC Count</p>
                                                    <p class="test-result-normal">4.8 million/ÂµL</p>
                                                </div>
                                                <p class="text-sm text-gray-600">Normal Range: 4.5 - 5.9 million/ÂµL</p>
                                            </div>
                                            <div class="test-result-border-abnormal p-3 bg-white rounded-lg">
                                                <div class="flex justify-between items-center">
                                                    <p class="font-semibold">WBC Count</p>
                                                    <p class="test-result-abnormal">11,200 /ÂµL</p>
                                                </div>
                                                <p class="text-sm text-gray-600">Normal Range: 4,000 - 11,000 /ÂµL</p>
                                                <p class="text-xs text-red-600 mt-1">Slightly elevated - possible mild infection</p>
                                            </div>
                                            <div class="test-result-border-normal p-3 bg-white rounded-lg">
                                                <div class="flex justify-between items-center">
                                                    <p class="font-semibold">Platelets</p>
                                                    <p class="test-result-normal">230,000 /ÂµL</p>
                                                </div>
                                                <p class="text-sm text-gray-600">Normal Range: 150,000 - 450,000 /ÂµL</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card p-4">
                                        <h4 class="font-bold text-lg text-sky-800 mb-4">Lipid Profile</h4>
                                        <div class="space-y-4">
                                            <div class="test-result-border-normal p-3 bg-white rounded-lg">
                                                <div class="flex justify-between items-center">
                                                    <p class="font-semibold">Total Cholesterol</p>
                                                    <p class="test-result-normal">185 mg/dL</p>
                                                </div>
                                                <p class="text-sm text-gray-600">Desirable: < 200 mg/dL</p>
                                            </div>
                                            <div class="test-result-border-normal p-3 bg-white rounded-lg">
                                                <div class="flex justify-between items-center">
                                                    <p class="font-semibold">HDL (Good Cholesterol)</p>
                                                    <p class="test-result-normal">55 mg/dL</p>
                                                </div>
                                                <p class="text-sm text-gray-600">Optimal: > 40 mg/dL</p>
                                            </div>
                                            <div class="test-result-border-normal p-3 bg-white rounded-lg">
                                                <div class="flex justify-between items-center">
                                                    <p class="font-semibold">LDL (Bad Cholesterol)</p>
                                                    <p class="test-result-normal">110 mg/dL</p>
                                                </div>
                                                <p class="text-sm text-gray-600">Optimal: < 100 mg/dL</p>
                                            </div>
                                            <div class="test-result-border-normal p-3 bg-white rounded-lg">
                                                <div class="flex justify-between items-center">
                                                    <p class="font-semibold">Triglycerides</p>
                                                    <p class="test-result-normal">120 mg/dL</p>
                                                </div>
                                                <p class="text-sm text-gray-600">Normal: < 150 mg/dL</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="md:w-1/3">
                                    <div class="card p-4 bg-sky-100/70 mb-6">
                                        <h4 class="font-bold text-lg text-sky-800 mb-4">Test Summary</h4>
                                        <div class="space-y-2 mb-4">
                                            <div class="flex justify-between">
                                                <p>Tests Performed</p>
                                                <p class="font-semibold">12</p>
                                            </div>
                                            <div class="flex justify-between">
                                                <p>Normal Results</p>
                                                <p class="font-semibold text-green-600">10</p>
                                            </div>
                                            <div class="flex justify-between">
                                                <p>Abnormal Results</p>
                                                <p class="font-semibold text-red-600">2</p>
                                            </div>
                                            <div class="flex justify-between">
                                                <p>Critical Values</p>
                                                <p class="font-semibold">0</p>
                                            </div>
                                        </div>
                                        <div class="h-40">
                                            <canvas id="bloodTestChart"></canvas>
                                        </div>
                                    </div>

                                    <div class="card p-4 bg-amber-100/70">
                                        <h4 class="font-bold text-lg text-amber-800 mb-2">Doctor's Interpretation</h4>
                                        <p class="text-sm text-amber-900 mb-4">Overall blood test results are good with minor elevation in WBC count suggesting possible mild infection. Lipid profile is within healthy ranges. No immediate concerns.</p>
                                        <div>
                                            <p class="font-semibold text-amber-800">Recommendations:</p>
                                            <ul class="text-sm text-amber-900 list-disc ml-4 mt-2">
                                                <li>Complete the prescribed antibiotic course</li>
                                                <li>Maintain current healthy lifestyle</li>
                                                <li>Follow up if symptoms persist</li>
                                                <li>Next test recommended in 6 months</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="card p-4 mt-6 border border-sky-200">
                                        <p class="font-semibold mb-4">ðŸ”— Complete_Blood_Test_Report.pdf</p>
                                        <div class="flex gap-4">
                                            <button
                                                class="view-btn w-full bg-sky-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-sky-600 transition"
                                                data-src="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                                                data-title="Complete Blood Test Report">View</button>
                                            <button
                                                class="download-btn w-full bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition"
                                                data-src="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                                                data-filename="Complete_Blood_Test_Report.pdf">Download</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div id="diet-page" class="page">
                    <button class="nav-item back-btn flex items-center gap-2 text-sky-700 font-semibold mb-4">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                            </path>
                        </svg>
                        Back
                    </button>
                    <div class="card p-6">
                        <div class="text-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-800">Diet Plan</h2>
                            <p class="text-gray-600 mt-2 max-w-3xl mx-auto">Select a diet type to see personalized meal
                                recommendations tailored to your unique health goals.</p>
                        </div>

                        <div class="flex flex-wrap justify-center gap-2 sm:gap-3 mb-8">
                            <button
                                class="diet-btn py-2 px-4 rounded-full text-sm font-semibold transition bg-white text-gray-700 shadow-sm"
                                data-diet="loss">Weight Loss</button>
                            <button
                                class="diet-btn py-2 px-4 rounded-full text-sm font-semibold transition bg-blue-500 text-white shadow-sm"
                                data-diet="gain">Weight Gain</button>
                            <button
                                class="diet-btn py-2 px-4 rounded-full text-sm font-semibold transition bg-cyan-600 text-white shadow-sm"
                                data-diet="diabetic">Diabetic-Friendly</button>
                            <button
                                class="diet-btn py-2 px-4 rounded-full text-sm font-semibold transition bg-pink-500 text-white shadow-sm"
                                data-diet="heart">Heart-Healthy</button>
                            <button
                                class="diet-btn active py-2 px-4 rounded-full text-sm font-semibold transition shadow-md"
                                data-diet="balanced">Balanced Diet</button>
                            <button
                                class="diet-btn py-2 px-4 rounded-full text-sm font-semibold transition bg-green-500 text-white shadow-sm"
                                data-diet="veg">Vegetarian</button>
                        </div>

                        <div id="diet-plan-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        </div>

                    </div>
                </div>

                <div id="vitals-page" class="page">
                    <button class="nav-item back-btn flex items-center gap-2 text-sky-700 font-semibold mb-4">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                            </path>
                        </svg>
                        Back
                    </button>
                    <div class="card p-6">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Blood Pressure Monitoring</h2>
                
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-6">
                            <div class="card p-4 text-center bg-purple-100/70">
                                <p class="text-sm font-semibold text-purple-800">Latest Pressure</p>
                                <p class="text-4xl font-bold text-purple-900">118<span class="text-2xl text-purple-700">/76</span></p>
                                <p class="text-xs text-purple-700">mmHg</p>
                            </div>
                            <div class="card p-4 text-center bg-blue-100/70">
                                <p class="text-sm font-semibold text-blue-800">Systolic</p>
                                <p class="text-4xl font-bold text-blue-900">118</p>
                                <p class="text-xs text-blue-700">mmHg</p>
                            </div>
                            <div class="card p-4 text-center bg-green-100/70">
                                <p class="text-sm font-semibold text-green-800">Diastolic</p>
                                <p class="text-4xl font-bold text-green-900">76</p>
                                <p class="text-xs text-green-700">mmHg</p>
                            </div>
                            <div class="card p-4 text-center bg-red-100/70">
                                <p class="text-sm font-semibold text-red-800">Pulse</p>
                                <p class="text-4xl font-bold text-red-900">70</p>
                                <p class="text-xs text-red-700">BPM</p>
                            </div>
                        </div>
                
                        <h3 class="text-xl font-semibold text-gray-700 mb-4 text-center">Monthly Systolic Overview (2025)</h3>
                        <div class="card p-4">
                            <div class="relative h-80">
                                <canvas id="bpChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="medicines-page" class="page">
                    <button class="nav-item back-btn flex items-center gap-2 text-sky-700 font-semibold mb-4">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                            </path>
                        </svg>
                        Back
                    </button>
                    <div class="card p-6">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">My Medicines</h2>
                        <div>
                            <h3 class="font-semibold text-lg text-gray-700 mb-4">Active Prescriptions</h3>
                            <div class="space-y-4">
                                <div class="card p-4 bg-white/80">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <p class="font-bold text-sky-800">Amoxicillin 500 mg</p>
                                            <p class="text-sm text-gray-600">1 capsule, 3 times a day</p>
                                            <p class="text-xs text-red-600 font-semibold mt-1">4 days remaining</p>
                                        </div>
                                        <div class="flex gap-2 text-gray-500">
                                            <span>â˜€</span> <span> M </span>
                                            <span>ðŸŒ™</span> </div>
                                    </div>
                                </div>
                                <div class="card p-4 bg-white/80">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <p class="font-bold text-sky-800">Paracetamol 500 mg</p>
                                            <p class="text-sm text-gray-600">As needed for fever/pain</p>
                                            <p class="text-xs text-green-600 font-semibold mt-1">Ongoing</p>
                                        </div>
                                        <div class="flex gap-2 text-gray-400">
                                            <span>-</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h3 class="font-semibold text-lg text-gray-700 mt-8 mb-4 border-t pt-4">Completed</h3>
                            <div class="space-y-4">
                                <div class="card p-4 bg-gray-100/80 opacity-70">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <p class="font-bold text-gray-600">Azithromycin 250 mg</p>
                                            <p class="text-sm text-gray-500">Finished on Sep 15, 2024</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="medibot-page" class="page">
                    <button class="nav-item back-btn flex items-center gap-2 text-sky-700 font-semibold mb-4">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                            </path>
                        </svg>
                        Back
                    </button>
                    <div class="card p-4 flex flex-col h-[calc(100vh-8rem)]">
                        <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center border-b pb-2">Medibot AI Assistant
                        </h2>
                        <div id="chat-window" class="flex-grow p-4 space-y-4 overflow-y-auto rounded-lg bg-white/50">
                            <div class="flex justify-start">
                                <div class="chat-bubble-bot p-3 rounded-lg max-w-xs">
                                    Hello Arjun! How can I help you with your health today?
                                </div>
                            </div>
                        </div>
                        <div class="mt-4 flex gap-2">
                            <input type="text" id="chat-input"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500"
                                placeholder="Type your message...">
                            <button id="send-btn"
                                class="bg-sky-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-sky-600 transition">Send</button>
                        </div>
                    </div>
                </div>

                <div id="suggestions-page" class="page">
                    <button class="nav-item back-btn flex items-center gap-2 text-sky-700 font-semibold mb-4">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                            </path>
                        </svg>
                        Back
                    </button>
                    <div class="card p-6">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Doctor Suggestions</h2>
                        <div class="space-y-6">
                            <div class="card p-4 flex items-start gap-4 bg-white/80">
                                <img src="https://placehold.co/80x80/e0f2fe/0c4a6e?text=Dr.S" class="rounded-full"
                                    alt="Doctor Avatar">
                                <div class="flex-1">
                                    <h3 class="font-bold text-lg text-sky-800">Dr. Sharma</h3>
                                    <p class="text-sm font-semibold text-sky-600 mb-2">Cardiologist</p>
                                    <p class="text-sm text-gray-600">"Your recent blood pressure readings are stable.
                                        Continue your current medication and diet. I recommend a follow-up in 3 months.
                                        Keep monitoring daily."</p>
                                </div>
                            </div>
                            <div class="card p-4 flex items-start gap-4 bg-white/80">
                                <img src="https://placehold.co/80x80/d1fae5/065f46?text=Dr.P" class="rounded-full"
                                    alt="Doctor Avatar">
                                <div class="flex-1">
                                    <h3 class="font-bold text-lg text-green-800">Dr. Patel</h3>
                                    <p class="text-sm font-semibold text-green-600 mb-2">Dietitian</p>
                                    <p class="text-sm text-gray-600">"Based on your blood test, increasing iron intake
                                        would be beneficial. I've updated your diet plan with more spinach and lentils.
                                        Let's check in after 4 weeks."</p>
                                </div>
                            </div>
                            <div classs="card p-4 flex items-start gap-4 bg-white/80">
                                <img src="https://placehold.co/80x80/fee2e2/991b1b?text=Dr.G" class="rounded-full"
                                    alt="Doctor Avatar">
                                <div class="flex-1">
                                    <h3 class="font-bold text-lg text-red-800">Dr. Gupta</h3>
                                    <p class="text-sm font-semibold text-red-600 mb-2">General Physician</p>
                                    <p class="text-sm text-gray-600">"The slight elevation in your WBC count suggests a
                                        minor infection. The prescribed Amoxicillin should resolve it. Please complete
                                        the full course and report any side effects."</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div id="pdf-modal" class="fixed inset-0 bg-black bg-opacity-75 z-50 hidden items-center justify-center">
        <div class="bg-white rounded-lg shadow-2xl w-11/12 h-5/6 flex flex-col">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 id="pdf-title" class="text-lg font-bold">Document Viewer</h3>
                <button id="close-modal-btn" class="p-2 rounded-full hover:bg-gray-200">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                </button>
            </div>
            <div class="flex-grow p-2">
                <iframe id="pdf-iframe" src="" class="w-full h-full" frameborder="0"></iframe>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const menuBtn = document.getElementById('menu-btn');
            const sidebar = document.getElementById('sidebar');
            const navItems = document.querySelectorAll('.nav-item');
            const pages = document.querySelectorAll('.page');
            const tabBtns = document.querySelectorAll('#reports-page .tab-btn');
            const tabContents = document.querySelectorAll('#reports-page .tab-content');
            const dietBtns = document.querySelectorAll('#diet-page .diet-btn');
            const dietPlanContainer = document.getElementById('diet-plan-content');
            const chatWindow = document.getElementById('chat-window');
            const chatInput = document.getElementById('chat-input');
            const sendBtn = document.getElementById('send-btn');
            const pdfModal = document.getElementById('pdf-modal');
            const pdfIframe = document.getElementById('pdf-iframe');
            const pdfTitle = document.getElementById('pdf-title');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const viewBtns = document.querySelectorAll('.view-btn');
            const downloadBtns = document.querySelectorAll('.download-btn');
            let bpChartInstance = null;
            let bloodTestChartInstance = null;

            // --- Diet Plan Data ---
            const dietData = {
                balanced: {
                    breakfast: { name: "Oatmeal & Berries", cal: "350 kcal", img: "https://placehold.co/300x200/a7f3d0/166534?text=Breakfast" },
                    lunch: { name: "Grilled Chicken Salad", cal: "450 kcal", img: "https://placehold.co/300x200/fde68a/854d0e?text=Lunch" },
                    snacks: { name: "Greek Yogurt", cal: "150 kcal", img: "https://placehold.co/300x200/fecaca/991b1b?text=Snacks" },
                    dinner: { name: "Baked Salmon & Quinoa", cal: "500 kcal", img: "https://placehold.co/300x200/d1d5db/1f2937?text=Dinner" },
                },
                loss: {
                    breakfast: { name: "Egg White Omelette", cal: "250 kcal", img: "https://placehold.co/300x200/81e6d9/2c7a7b?text=Low+Cal" },
                    lunch: { name: "Tuna Salad Lettuce Wraps", cal: "350 kcal", img: "https://placehold.co/300x200/90cdf4/2c5282?text=Lean+Protein" },
                    snacks: { name: "Apple Slices & Peanut Butter", cal: "180 kcal", img: "https://placehold.co/300x200/fbb6ce/9d2449?text=Healthy+Fat" },
                    dinner: { name: "Turkey Breast & Veggies", cal: "400 kcal", img: "https://placehold.co/300x200/faf089/975a16?text=Veggies" },
                },
                heart: {
                    breakfast: { name: "Avocado Toast on Whole Wheat", cal: "300 kcal", img: "https://placehold.co/300x200/a7f3d0/166534?text=Avocado" },
                    lunch: { name: "Lentil Soup", cal: "400 kcal", img: "https://placehold.co/300x200/fde68a/854d0e?text=Lentils" },
                    snacks: { name: "Handful of Almonds", cal: "160 kcal", img: "https://placehold.co/300x200/fecaca/991b1b?text=Nuts" },
                    dinner: { name: "Baked Cod with Asparagus", cal: "450 kcal", img: "https://placehold.co/300x200/d1d5db/1f2937?text=Fish" },
                },
            };
            dietData.gain = dietData.balanced; // Placeholder
            dietData.diabetic = dietData.loss; // Placeholder
            dietData.veg = dietData.heart; // Placeholder

            function updateDietPlan(dietType) {
                const plan = dietData[dietType] || dietData.balanced;
                dietPlanContainer.innerHTML = `
                    <div class="rounded-xl p-4 text-center">
                        <img src="${plan.breakfast.img}" alt="Breakfast meal" class="rounded-lg mb-4 shadow-lg w-full h-40 object-cover">
                        <h4 class="font-bold text-sky-700 underline mb-1">Breakfast</h4>
                        <p class="text-sm text-gray-800 font-semibold">${plan.breakfast.name}</p>
                        <p class="text-xs text-gray-500">${plan.breakfast.cal}</p>
                    </div>
                    <div class="rounded-xl p-4 text-center">
                        <img src="${plan.lunch.img}" alt="Lunch meal" class="rounded-lg mb-4 shadow-lg w-full h-40 object-cover">
                        <h4 class="font-bold text-sky-700 underline mb-1">Lunch</h4>
                        <p class="text-sm text-gray-800 font-semibold">${plan.lunch.name}</p>
                        <p class="text-xs text-gray-500">${plan.lunch.cal}</p>
                    </div>
                    <div class="rounded-xl p-4 text-center">
                        <img src="${plan.snacks.img}" alt="Snack" class="rounded-lg mb-4 shadow-lg w-full h-40 object-cover">
                        <h4 class="font-bold text-sky-700 underline mb-1">Snacks</h4>
                        <p class="text-sm text-gray-800 font-semibold">${plan.snacks.name}</p>
                        <p class="text-xs text-gray-500">${plan.snacks.cal}</p>
                    </div>
                    <div class="rounded-xl p-4 text-center">
                        <img src="${plan.dinner.img}" alt="Dinner meal" class="rounded-lg mb-4 shadow-lg w-full h-40 object-cover">
                        <h4 class="font-bold text-sky-700 underline mb-1">Dinner</h4>
                        <p class="text-sm text-gray-800 font-semibold">${plan.dinner.name}</p>
                        <p class="text-xs text-gray-500">${plan.dinner.cal}</p>
                    </div>
                `;
            }

            // --- Blood Test Chart ---
            function initializeBloodTestChart() {
                if (bloodTestChartInstance) {
                    bloodTestChartInstance.destroy();
                }
                const ctx = document.getElementById('bloodTestChart');
                if (!ctx) return;

                bloodTestChartInstance = new Chart(ctx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ['Normal', 'Abnormal'],
                        datasets: [{
                            data: [10, 2],
                            backgroundColor: [
                                '#10b981',
                                '#ef4444'
                            ],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    boxWidth: 12,
                                    padding: 15
                                }
                            }
                        },
                        cutout: '70%'
                    }
                });
            }

            // --- Sidebar Toggle ---
            menuBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                sidebar.classList.toggle('-translate-x-full');
            });

            document.addEventListener('click', (e) => {
                if (!sidebar.contains(e.target) && !menuBtn.contains(e.target)) {
                    sidebar.classList.add('-translate-x-full');
                }
            });

            // --- BP Chart ---
            function initializeBpChart() {
                if (bpChartInstance) {
                    bpChartInstance.destroy();
                }
                const ctx = document.getElementById('bpChart');
                if (!ctx) return;

                const labels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'];
                const fillArray = (value) => new Array(labels.length).fill(value);

                bpChartInstance = new Chart(ctx.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [
                            // Dataset 1: Normal Range (Bottom) - hidden from legend/tooltip
                            {
                                data: fillArray(90), // Normal range starts at 90
                                borderColor: 'transparent',
                                pointRadius: 0,
                            },
                            // Dataset 2: Normal Range (Top) & Fill
                            {
                                label: 'Normal Range (90-120 mmHg)',
                                data: fillArray(120), // Normal range ends at 120
                                borderColor: 'transparent', // No line
                                pointRadius: 0,
                                fill: 0, // Fill down to dataset at index 0
                                backgroundColor: 'rgba(22, 163, 74, 0.2)', // Transparent green
                            },
                            // Dataset 3: The actual Systolic data line
                            {
                                label: 'Systolic',
                                data: [120, 122, 118, 125, 123, 121, 120, 119, 122, 118],
                                borderColor: '#3b82f6', // Bright blue line
                                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                                tension: 0.3,
                                fill: false, // Don't fill this line
                                pointRadius: 4, // Add dots for each reading
                                pointBackgroundColor: '#3b82f6',
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    filter: (legendItem) => legendItem.datasetIndex !== 0
                                }
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                                filter: (tooltipItem) => tooltipItem.datasetIndex === 2
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: false,
                                min: 60,
                                title: {
                                    display: true,
                                    text: 'Systolic Pressure (mmHg)'
                                }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'Month'
                                }
                            }
                        }
                    }
                });
            }

            // --- Page Navigation ---
            function showPage(pageId) {
                pages.forEach(page => {
                    page.classList.remove('active');
                });
                const newPage = document.getElementById(pageId);
                if (newPage) newPage.classList.add('active');

                if (pageId === 'vitals-page') {
                    initializeBpChart();
                }
                if (pageId === 'diet-page') {
                    const activeDietBtn = document.querySelector('.diet-btn.active');
                    updateDietPlan(activeDietBtn.dataset.diet);
                }
                if (pageId === 'reports-page') {
                    initializeBloodTestChart();
                }
            }

            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = item.dataset.page;
                    if (pageId) {
                        showPage(pageId);
                    } else if (item.classList.contains('back-btn')) {
                        showPage('dashboard-page');
                    }
                    sidebar.classList.add('-translate-x-full');
                });
            });

            // --- Medical Reports Tab ---
            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    tabBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    const tabId = btn.dataset.tab;
                    tabContents.forEach(content => {
                        content.id === tabId ? content.classList.remove('hidden') : content.classList.add('hidden');
                    });
                    
                    if (tabId === 'blood-test-content') {
                        initializeBloodTestChart();
                    }
                });
            });

            // --- Diet Plan Filter ---
            dietBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    dietBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    updateDietPlan(btn.dataset.diet);
                });
            });

            // --- Chatbot Logic ---
            function addMessage(message, sender) {
                const bubble = document.createElement('div');
                const messageWrapper = document.createElement('div');
                messageWrapper.classList.add('flex', sender === 'user' ? 'justify-end' : 'justify-start');
                bubble.classList.add('p-3', 'rounded-lg', 'max-w-xs', sender === 'user' ? 'chat-bubble-user' : 'chat-bubble-bot');
                bubble.textContent = message;
                messageWrapper.appendChild(bubble);
                chatWindow.appendChild(messageWrapper);
                chatWindow.scrollTop = chatWindow.scrollHeight;
            }

            function handleChat() {
                const userMessage = chatInput.value.trim();
                if (userMessage) {
                    addMessage(userMessage, 'user');
                    chatInput.value = '';
                    setTimeout(() => {
                        addMessage('I am a demo bot. I can provide information based on your health data. How can I assist you further?', 'bot');
                    }, 1000);
                }
            }

            sendBtn.addEventListener('click', handleChat);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    handleChat();
                }
            });

            // --- PDF Modal Logic ---
            function showPdfModal(src, title) {
                pdfTitle.textContent = title;
                pdfIframe.src = src;
                pdfModal.classList.remove('hidden');
                pdfModal.classList.add('flex');
            }

            function hidePdfModal() {
                pdfIframe.src = ''; // Clear src to stop loading/playing
                pdfModal.classList.add('hidden');
                pdfModal.classList.remove('flex');
            }

            viewBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const src = btn.dataset.src;
                    const title = btn.dataset.title;
                    showPdfModal(src, title);
                });
            });

            closeModalBtn.addEventListener('click', hidePdfModal);
            pdfModal.addEventListener('click', (e) => {
                if (e.target === pdfModal) { // Click on the background overlay
                    hidePdfModal();
                }
            });

            // --- Download Logic ---
            downloadBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const src = btn.dataset.src;
                    const filename = btn.dataset.filename;
                    const a = document.createElement('a');
                    a.href = src;
                    a.download = filename;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                });
            });

            // Initial page load
            showPage('dashboard-page');
        });
    </script>
</body>

</html>
